<html xmlns="http://www.w3.org/1999/xhtml"   
   xmlns:h="http://java.sun.com/jsf/html"
   xmlns:f="http://java.sun.com/jsf/core"
   xmlns:ui="http://java.sun.com/jsf/facelets"
   xmlns:p="http://primefaces.org/ui">
 
    <ui:composition>
        <div class="container-main">
        	<div class="container-main-back">
	        	<h:form>
					<h:commandButton action="welcome?faces-redirect = true" value="Back To Welcome Page" />
				</h:form>
			</div>
			<div class="container-main-datatable">
	        	<h1>Paychecks</h1>
	        	<br/>
				<p:dataTable value="#{paycheckBean.paycheckViews}" var="paycheckView" scrollable="true" scrollHeight="400" emptyMessage="No paychecks found">
					<p:column style="width:30px">
			            <p:rowToggler />
			        </p:column>
					<p:column headerText="Company">
					    <h:outputText value="#{paycheckView.companyCode}" />
					</p:column>
					<p:column headerText="Year">
					    <h:outputText value="#{paycheckView.year}" />
				   	</p:column>
					<p:column headerText="Month">
					    <h:outputText value="#{paycheckView.monthName}" />
				   	</p:column>
					<p:column headerText="Gross Amount">
					    <h:outputText value="#{paycheckView.grossAmount}" />
				   	</p:column>
					<p:column headerText="Gross Remain">
					    <h:outputText value="#{paycheckView.grossRemain}" />
				   	</p:column>
					<p:column headerText="Reimb.">
					    <h:outputText value="#{paycheckView.reimbursement}" />
				   	</p:column>
					<p:column headerText="Net Pay">
					    <h:outputText value="#{paycheckView.netPay}" />
				   	</p:column>
					<p:column headerText="Real Net">
					    <h:outputText value="#{paycheckView.realNetPay}" />
				   	</p:column>
					<p:column headerText="Net Remain">
					    <h:outputText value="#{paycheckView.netPayRemain}" />
				   	</p:column>
				   	
				   	<p:rowExpansion>
			            <p:dataTable value="#{paycheckView.paychecks}" var="paycheck" emptyMessage="No paychecks found">
							<p:column headerText="Start Date">
							    <h:outputText value="#{paycheck.startDate}" />
						   	</p:column>
							<p:column headerText="End Date">
							    <h:outputText value="#{paycheck.endDate}" />
						   	</p:column>
							<p:column headerText="Gross Amount">
							    <h:outputText value="#{paycheck.grossAmount}" />
						   	</p:column>
							<p:column headerText="Net Pay">
							    <h:outputText value="#{paycheck.netPay}" />
						   	</p:column>
							<p:column headerText="Reimbursement">
							    <h:outputText value="#{paycheck.reimbursement}" />
						   	</p:column>
						</p:dataTable>
			        </p:rowExpansion>
				   	
				   	<f:facet name="footer">
				        Total: #{paycheckBean.paycheckViews.size()}
				    </f:facet>
				</p:dataTable>
			</div>
			<br/>
			<div id="main_chart" class="container-chart"></div>
			
			<script type="text/javascript">
		        // based on prepared DOM, initialize echarts instance
		        var myChart = echarts.init(document.getElementById('main_chart'));
		        
		        var chart = #{eChartView.chart}
		
		        // use configuration item and data specified to show chart
		        myChart.setOption(chart);
		    </script>

		</div>
    </ui:composition>
</html>